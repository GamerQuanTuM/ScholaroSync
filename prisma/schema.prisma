generator client {
  provider = "prisma-client-js"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Student {
  id                 String     @id @default(cuid())
  rollNumber         String     @unique @map("roll_number")
  registrationNumber String     @unique @map("registration_number")
  name               String
  createdAt          DateTime   @default(now()) @map("created_at")
  updatedAt          DateTime   @updatedAt @map("updated_at")
  semesters          Semester[]
}

model Semester {
  id               String    @id @default(cuid())
  studentId        String    @map("student_id")
  year             String?   @map("year")
  semester         String?   @map("semester")
  grade4ScaleCGPA  Float     @default(0.0) @map("grade_4_scale_cgpa")
  grade10ScaleCGPA Float     @default(0.0) @map("grade_10_scale_cgpa")
  createdAt        DateTime  @default(now()) @map("created_at")
  updatedAt        DateTime  @updatedAt @map("updated_at")
  student          Student   @relation(fields: [studentId], references: [id])
  subjects         Subject[]
}

model Subject {
  id          String    @id @default(cuid())
  semesterId  String    @map("semester_id")
  subjectCode String    @map("subject_code")
  subjectName String    @map("subject_name")
  credits     Int       @default(4) @map("credits")
  grade       GradeEnum @default(O) @map("grade")
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @updatedAt @map("updated_at")
  semester    Semester  @relation(fields: [semesterId], references: [id])
}

enum GradeEnum {
  O
  E
  A
  B
  C
  D
  F
}
